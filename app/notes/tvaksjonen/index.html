<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>kartoteket / 3 by 5</title>
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <!-- build:css /styles/main.css -->
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/notes.css">
    <!-- endbuild -->

    <!-- fonts -->
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Inconsolata|Anonymous+Pro">

    <!-- build:js ../scripts/vendor/modernizr.js -->
    <script src="/bower_components/modernizr/modernizr.js"></script>
    <script src='https://d3js.org/d3.v4.min.js'></script>
    <!-- endbuild -->
  </head>

  <body>

    <!--[if lt IE 10]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <div class="page-wrapper layout">

        <header class="site-header layout__item--main">
          <h1><a href="../">Notebook</a> / TV-aksjonen</h1>
        </header>

        <div class="layout__item--main">
          <div class="content">
            <iframe
              src="raw/index.html"
              sandbox="allow-popups allow-scripts allow-forms allow-same-origin"
              marginwidth="0" marginheight="0" style="border:none;" scrolling="no"></iframe>
          </div>

          <div class="comments">
<p>Etter en søndagstur med 2 unger og 1 bøsse, ble jeg nysgjerrig på framtida til bøsseinnsamling i det kontantløse samfunnet. Og fine TV-aksjonen har heldigvis en hel <a href="https://giverstafett.no/landsstatistikk">nettside</a> full av statistikk som kan svare på slikt.
Men trendene var dessverre skjult i et stablet stolpediagram som <a href="https://eagereyes.org/techniques/stacked-bars-are-the-worst">nesten alltid</a> er vanskelige å lese.
</p>
<p>Derfor dette eksperimentet med et linjediagram. Y-aksen er ikke helt optimal, men det hjelper med å tillate litt interaksjon.
  Da ser man f.eks. at <a href="#" onclick="updateIframeSrc(1);return false;">ja, bøsser taper terreng mot “annet”</a> (men kanskje ikke så dramatisk som man kunne trodd), <a href="#" onclick="updateIframeSrc(2);return false;">kommunenorge er mer opptatt av regnskog enn næringslivet</a>(2015), og <a href="#" onclick="updateIframeSrc(3);return false;">barna ruler, men hva er greia med de troende?</a>
</p>
<p>Tallene er naska fra <a href="https://giverstafett.no/landsstatistikk">https://giverstafett.no/landsstatistikk</a> i fullt dagslys (kl. 10:40 24. Oktober 2017).
</p>

          </div>

        </div>
  </div>

  <footer class="site-footer layout__item--main">

     <article itemscope itemtype="http://schema.org/Organization" class="address">
      <p>
        <a itemprop="url" href="http://kartoteket.as"><span itemprop="name">Kartoteket AS</span></a>
      </p>
      <p itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">
        <span itemprop="addressLocality">Oslo</span>,
        <span itemprop="addressCountry">Norway</span><br><br>
      </p>
    </article>

  </footer>

  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60185757-1', 'auto');
    ga('send', 'pageview');
  </script>

  <script>
    var content = document.querySelectorAll('.content')[0];
    var iframe = document.querySelectorAll('iframe')[0];

    function updateIframeSrc(id) {
      var queryString = '?view='+id
      // oops, cdn.rawgit.com ignores query strings
      // var rootUrl = "https://cdn.rawgit.com/svale/d1d48384bb9ac4733a4cdd6b5424ad15/raw/index.html"
      var rootUrl = "raw/index.html"
      var url = rootUrl + queryString;
      console.log(url)
      iframe.src = url;
      window.scrollTo(0,0);
    }

    (function() {
        var throttle = function(type, name, obj) {
            obj = obj || window;
            var running = false;
            var func = function() {
                if (running) { return; }
                running = true;
                 requestAnimationFrame(function() {
                    obj.dispatchEvent(new CustomEvent(name));
                    running = false;
                });
            };
            obj.addEventListener(type, func);
        };
        throttle("resize", "optimizedResize");
    })();

    function sizeIframe() {
      width = content.offsetWidth;
      iframe.style.height = width/1.2 + 'px';
      // console.log('sized')
    }
    sizeIframe();
    window.addEventListener('optimizedResize', sizeIframe);
  </script>
</body>
</html>
